<!-- json assignment app.html pgm


<!DOCTYPE html>

<!-- Initial page  -->

<html>
    <head> 
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8"> 
        <title>Francisco Ron - Photography</title> 
    </head>
  
    <body>
        <header>
            <p class="head1">
                Francisco Ron - Photography
            </p>
        </header>
        <div>
            <img src="./image.png"/> 
        </div>
      
        <div>
            <span id="ajaxButton" style="cursor: pointer; text-decoration: underline">
                Make a request
            </span>
        </div>    

        <script type="text/javascript"> 
	    
	        (function() {                // anonymous function
                var httpRequest;
                document.getElementById("ajaxButton").onclick = function() { 
                    makeRequest('message.js'); 
                };

                function makeRequest(url) {
                    if (window.XMLHttpRequest) { // Mozilla, Safari, ...
                        httpRequest = new XMLHttpRequest();
                    } 
                    else if (window.ActiveXObject) { // IE
                          try {httpRequest = new ActiveXObject("Msxml2.XMLHTTP");}  
                          catch (e) {try {httpRequest = new ActiveXObject("Microsoft.XMLHTTP");} 
                          catch (e) {}
                    }
                }

                if (!httpRequest) {
                    alert('Giving up :( Cannot create an XMLHTTP instance');
                    return false;
                }
          
                httpRequest.onreadystatechange = alertContents;
                httpRequest.open('GET', url + '?x=' + Math.random());
                httpRequest.send();
                }   

                function alertContents() {
                    if (httpRequest.readyState === 4) {
                        if (httpRequest.status === 200) {
                            var resDataString = httpRequest.responseText;
                            var resData = JSON.parse(resDataString);
                            var msg = resData.msg;
                            alert(msg);
                        } 
                        else {
                            alert('There was a problem with the request.');
                        }
                    }
                }
            })();
    </script>
      
   </body>
</html>
 